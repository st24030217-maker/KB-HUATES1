<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>KB HUATES | App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap");

      body {
        font-family: "Outfit", sans-serif;
        background-color: #0a0a0a;
        color: #ffffff;
        -webkit-tap-highlight-color: transparent;
      }

      .card-jalapeno {
        border: 3px solid #22c55e;
        box-shadow: 4px 4px 0px #22c55e;
        background: #1a1a1a;
      }
      .card-queso {
        border: 3px solid #f97316;
        box-shadow: 4px 4px 0px #f97316;
        background: #1a1a1a;
      }
      .card-takis {
        border: 3px solid #a855f7;
        box-shadow: 4px 4px 0px #a855f7;
        background: #1a1a1a;
      }

      .card-active:active {
        transform: translate(2px, 2px);
        box-shadow: 0px 0px 0px transparent;
      }

      .transfer-card {
        border: 2px dashed #444;
        background: linear-gradient(145deg, #111, #1a1a1a);
      }

      .qty-container {
        border: 2px solid #333;
        background: #111;
      }

      textarea {
        background-color: #1a1a1a;
        border: 2px solid #444 !important;
        color: white;
        transition: border-color 0.3s;
      }

      .footer-blur {
        background: rgba(10, 10, 10, 0.9);
        backdrop-filter: blur(10px);
        border-top: 1px solid #333;
      }

      /* Bot√≥n de Silencio Flotante */
      .mute-btn {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 100;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(8px);
        border: 2px solid #ffffff33;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        cursor: pointer;
      }
    </style>
  </head>
  <body class="pb-52">
    <audio id="bgMusic" loop>
      <source
        src="./Wisin, Jhay Cortez, Anuel - Fiel Remix (Official Video) ft. Myke Towers, Los Legendarios.mp3"
        type="audio/mpeg"
      />
    </audio>

    <button class="mute-btn" id="muteBtn">üîä</button>

    <header class="p-6 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <div
          class="w-14 h-14 rounded-2xl border-2 border-orange-500 overflow-hidden bg-white shadow-lg shadow-orange-500/20"
        >
          <img
            src="./KBHUATES.png"
            alt="KB"
            onerror="this.src = 'https://via.placeholder.com/100?text=KB'"
            class="w-full h-full object-cover"
          />
        </div>
        <div>
          <h1
            class="text-2xl font-black italic tracking-tighter text-white uppercase leading-none"
          >
            KB HUATES
          </h1>
          <span
            class="text-[9px] font-bold bg-orange-500 text-black px-2 py-0.5 rounded-full uppercase"
            >Ya se la saben ü•ú</span
          >
        </div>
      </div>

      <div class="text-right">
        <div class="flex items-center gap-1.5 justify-end">
          <div
            class="w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_8px_#22c55e]"
          ></div>
          <span
            class="text-[10px] font-black text-white uppercase tracking-widest"
            >Live</span
          >
        </div>
        <p class="text-[8px] font-bold text-gray-500 uppercase mt-0.5">
          Estatus
        </p>
      </div>
    </header>

    <main class="px-5 space-y-5">
      <h2 class="text-lg font-black uppercase text-gray-400 italic">
        Tus Munchies:
      </h2>

      <div
        class="card-jalapeno card-active p-4 rounded-2xl flex items-center gap-4"
      >
        <div class="text-4xl bg-green-500/10 p-2 rounded-xl">üå∂Ô∏è</div>
        <div class="flex-grow">
          <h3 class="font-black text-xl uppercase leading-none">Jalape√±o</h3>
          <p class="text-green-500 font-bold mt-1 text-sm">$13.00</p>
        </div>
        <div class="flex items-center gap-3 qty-container p-1 rounded-xl">
          <button
            onclick="changeQty('jalapeno', -1, 13)"
            class="w-8 h-8 font-black text-xl"
          >
            -
          </button>
          <span id="qty-jalapeno" class="font-black text-xl w-6 text-center"
            >0</span
          >
          <button
            onclick="changeQty('jalapeno', 1, 13)"
            class="w-8 h-8 font-black text-xl bg-green-500 text-black rounded-lg"
          >
            +
          </button>
        </div>
      </div>

      <div
        class="card-queso card-active p-4 rounded-2xl flex items-center gap-4"
      >
        <div class="text-4xl bg-orange-500/10 p-2 rounded-xl">üßÄ</div>
        <div class="flex-grow">
          <h3 class="font-black text-xl uppercase leading-none">Queso</h3>
          <p class="text-orange-500 font-bold mt-1 text-sm">$13.00</p>
        </div>
        <div class="flex items-center gap-3 qty-container p-1 rounded-xl">
          <button
            onclick="changeQty('queso', -1, 13)"
            class="w-8 h-8 font-black text-xl"
          >
            -
          </button>
          <span id="qty-queso" class="font-black text-xl w-6 text-center"
            >0</span
          >
          <button
            onclick="changeQty('queso', 1, 13)"
            class="w-8 h-8 font-black text-xl bg-orange-500 text-black rounded-lg"
          >
            +
          </button>
        </div>
      </div>

      <div
        class="card-takis card-active p-4 rounded-2xl flex items-center gap-4"
      >
        <div class="text-4xl bg-purple-500/10 p-2 rounded-xl">‚ö°</div>
        <div class="flex-grow">
          <h3 class="font-black text-xl uppercase leading-none italic">
            Takis
          </h3>
          <p class="text-purple-500 font-bold mt-1 text-sm">$13.00</p>
        </div>
        <div class="flex items-center gap-3 qty-container p-1 rounded-xl">
          <button
            onclick="changeQty('takis', -1, 13)"
            class="w-8 h-8 font-black text-xl"
          >
            -
          </button>
          <span id="qty-takis" class="font-black text-xl w-6 text-center"
            >0</span
          >
          <button
            onclick="changeQty('takis', 1, 13)"
            class="w-8 h-8 font-black text-xl bg-purple-500 text-white rounded-lg"
          >
            +
          </button>
        </div>
      </div>

      <div class="pt-4">
        <label
          class="block font-black text-xs uppercase text-gray-500 mb-2 ml-1"
          >üìç ¬øD√≥nde te los llevo?</label
        >
        <textarea
          id="location"
          placeholder="Edificio, sal√≥n, referencia..."
          class="w-full p-4 rounded-2xl font-bold h-20 outline-none"
        ></textarea>
      </div>

      <div class="transfer-card p-5 rounded-3xl mt-2">
        <div class="flex items-center gap-2 mb-3">
          <div
            class="w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center text-blue-400 font-bold italic"
          >
            üí≥
          </div>
          <h3
            class="font-black uppercase text-xs tracking-widest text-blue-400"
          >
            Datos Bancarios
          </h3>
        </div>
        <div class="space-y-3">
          <div>
            <p class="text-[9px] text-gray-500 font-bold uppercase">
              CLABE Interbancaria
            </p>
            <div class="flex justify-between items-center mt-0.5">
              <p
                id="clabe-number"
                class="font-black text-white tracking-widest text-sm"
              >
                1234 5678 9012 3456 78
              </p>
              <button
                onclick="copyClabe()"
                class="bg-blue-600 text-white text-[9px] font-black px-3 py-1.5 rounded-lg active:scale-90 transition-transform shadow-lg shadow-blue-500/20"
              >
                COPIAR
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="py-10 text-center opacity-20">
        <p class="text-[9px] font-bold uppercase tracking-[0.3em] mb-1">
          Dise√±ado por
        </p>
        <p class="text-xs font-black italic uppercase">
          Salinas Serrano Sebastian Gael
        </p>
      </div>
    </main>

    <footer class="fixed bottom-0 left-0 w-full p-6 footer-blur z-50">
      <div class="flex justify-between items-end mb-4">
        <div>
          <p class="text-[10px] font-black uppercase text-gray-500">Subtotal</p>
          <span
            id="total-price"
            class="text-4xl font-black text-white leading-none"
            >$0.00</span
          >
        </div>
        <span
          id="total-items"
          class="text-[10px] font-black bg-white text-black px-3 py-1 rounded-full uppercase mb-2 shadow-[2px_2px_0px_#ff6b6b]"
          >0 BOLSAS</span
        >
      </div>
      <button
        onclick="sendOrder()"
        class="w-full bg-orange-500 py-4 rounded-2xl text-black text-xl font-black uppercase shadow-lg shadow-orange-500/40 active:translate-y-1 active:shadow-none transition-all"
      >
        Enviar Pedido üöÄ
      </button>
    </footer>

    <script>
      const cart = { jalapeno: 0, queso: 0, takis: 0 };
      let total = 0;
      let musicStarted = false;
      let isMuted = false;
      const audio = document.getElementById("bgMusic");
      const muteBtn = document.getElementById("muteBtn");

      // Play m√∫sica al primer toque en cualquier lado
      document.addEventListener(
        "click",
        () => {
          if (!musicStarted && !isMuted) {
            audio.volume = 0.2;
            audio.play();
            musicStarted = true;
          }
        },
        { once: false },
      );

      // Bot√≥n de silencio corregido
      muteBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        if (audio.muted) {
          audio.muted = false;
          isMuted = false;
          muteBtn.innerText = "üîä";
          if (!musicStarted) {
            audio.play();
            musicStarted = true;
          }
        } else {
          audio.muted = true;
          isMuted = true;
          muteBtn.innerText = "üîá";
        }
      });

      function copyClabe() {
        navigator.clipboard.writeText("123456789012345678");
        alert("‚úÖ CLABE copiada");
      }

      function changeQty(flavor, delta, price) {
        if (cart[flavor] + delta >= 0) {
          cart[flavor] += delta;
          total += delta * price;
          document.getElementById(`qty-${flavor}`).innerText = cart[flavor];
          document.getElementById("total-price").innerText =
            `$${total.toFixed(2)}`;
          document.getElementById("total-items").innerText =
            `${cart.jalapeno + cart.queso + cart.takis} BOLSAS`;
        }
      }

      function sendOrder() {
        const loc = document.getElementById("location").value;
        if (total === 0) return alert("¬°Escoge tus cacahuates!");
        if (!loc) return alert("¬°Dinos d√≥nde est√°s!");

        let msg = `üöÄ *ORDEN KB HUATES* üöÄ\n`;
        if (cart.jalapeno > 0) msg += `üü¢ Jalape√±o: ${cart.jalapeno}\n`;
        if (cart.queso > 0) msg += `üü† Queso: ${cart.queso}\n`;
        if (cart.takis > 0) msg += `üü£ Takis: ${cart.takis}\n`;
        msg += `\nüí∞ *Total: $${total.toFixed(2)}*\nüìç *Lugar:* ${loc}\n\n‚ú® _Dise√±o por Sebastian Salinas_`;

        window.open(
          `https://wa.me/521XXXXXXXXXX?text=${encodeURIComponent(msg)}`,
          "_blank",
        );
      }
    </script>
  </body>
</html>
